"use strict";var g=Object.defineProperty;var c=(r,e,t)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var s=(r,e,t)=>(c(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("vue");class a{constructor(){s(this,"debug");s(this,"logContainer");this.debug=!1,this.logContainer=null}createDebugPanel(e){const t=document.createElement("div"),o=document.querySelector(e);o?(o.appendChild(t),this.logContainer=t):console.warn(`Selector "${e}" not found.`)}debugPanel(e){this.debug=!0,e&&this.createDebugPanel(e)}log(e){if(this.logContainer){const t=document.createElement("div");t.innerText=`${new Date().toISOString()} - ${e}`,this.logContainer.appendChild(t),this.logContainer.scrollTop=this.logContainer.scrollHeight}}callExternalMethod(e,...t){this.log(`Calling method: ${e} with args: ${JSON.stringify(t)}`);const o=window.external;try{if(typeof window<"u"&&o&&typeof o[e]=="function")try{const n=o[e](...t);return this.log(`Method ${e} returned: ${n}`),n}catch(n){this.log(`Error in method: ${e}, Error: ${n instanceof Error?n.message:n}`)}else this.log(`Method ${e} not found`)}catch(n){n instanceof Error?this.log(n.message):this.log("An unknown error occurred")}return null}registerClientMethod(e,t){typeof window<"u"&&(window[e]=(...o)=>{this.log(`Client method called: ${e} with args: ${JSON.stringify(o)}`);try{t(...o)}catch(n){this.log(`Error in callback for ${e}, Error: ${n instanceof Error?n.message:n}`)}})}}function u(){const r=new a,e=i=>{r.debugPanel(i)},t=i=>{r.log(i)},o=(i,...l)=>{r.callExternalMethod(i,...l)},n=(i,l)=>{r.registerClientMethod(i,l)};d.provide("windowBridge",{debugPanel:e,logger:t,callExternalMethod:o,registerClientMethod:n})}function h(){return d.inject("windowBridge")}exports.useWindowBridge=h;exports.useWindowBridgeProvider=u;
