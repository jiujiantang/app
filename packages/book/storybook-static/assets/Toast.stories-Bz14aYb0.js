import"./index-Dyn2tdX0.js";import{r as C,q as x,s as L,o as g,b as h,d as w,u as U,F as A,v as V,m as y,g as M,w as E,x as H,t as z,n as P,y as Q,z as W,A as R}from"./vue.esm-bundler-BjyZoiHu.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={id:"game"},G={key:0,class:"grid-container-nine"},J=["data-type"],K={__name:"index",props:{json:{},lottery:null,gameOverCb:null},setup(e){const t=C({actionIndex:-1,isHover:!1}),r=x(0),i=x(!1),c=s=>{let{targetIndex:u,cb:d,delay:m,initIndex:v}=s,k=v;const $=()=>{t.actionIndex=k,console.log(k,u),k===u?d&&d():setTimeout(()=>{$()},m),m+=100,k++};$()},o=s=>{const{loopIndex:u,targetCircle:d,targetIndex:m,cb:v,delay:k,initIndex:$}=s;let b=$,O=0,S=!0;r.value=setInterval(()=>{S?($===-1&&b++,S=!1):b++,b===u&&(b=0,O++),t.actionIndex=b,O===d&&(m===-1||b===m)&&(clearInterval(r.value),v&&v())},k)},l=()=>{t.isHover=!0},a=()=>{t.isHover=!1},n=s=>{i.value||(i.value=!0,e.lottery(u=>{o({loopIndex:s,targetCircle:4,targetIndex:-1,delay:60,initIndex:-1,cb:()=>{c({targetIndex:u,delay:120,initIndex:0,cb:()=>{i.value=!1,e.gameOverCb()}})}})},()=>{i.value=!1}))};return L(()=>{clearInterval(r.value)}),(s,u)=>(g(),h("div",Y,[w("div",{class:"lotteryBg",style:y({backgroundImage:`url(${e.json.skin.bg})`,width:`${e.json.skin.bgWidth}px`,height:`${e.json.skin.bgHeight}px`})},[U(s.$slots,"title",{},void 0,!0),e.json.cellNumber===9?(g(),h("div",G,[(g(!0),h(A,null,V(e.json.skin.awardsList,(d,m)=>(g(),h("div",{key:d.id,class:"card","data-type":d.id,style:y({backgroundImage:m===t.actionIndex?`url(${e.json.skin.blockAct})`:`url(${e.json.skin.block})`,width:`${e.json.skin.blockWidth}px`,height:`${e.json.skin.blockHeight}px`})},[U(s.$slots,"card",{message:d},void 0,!0)],12,J))),128)),w("div",{id:"lottery-nine",onClick:u[0]||(u[0]=d=>n(8)),onMouseover:l,onMouseleave:a,class:"button squareLotteryBtn",style:y({backgroundImage:`url(${t.isHover?e.json.skin.lotteryAct:e.json.skin.lottery})`,width:`${e.json.skin.lotteryWidth}px`,height:`${e.json.skin.lotteryHeight}px`})},[U(s.$slots,"lotteryTips",{},void 0,!0)],36)])):M("",!0)],4)]))}};K.__docgenInfo={exportName:"default",displayName:"nineSquareLottery",description:"",tags:{},props:[{name:"json"},{name:"lottery",type:{name:"null",func:!0}},{name:"gameOverCb",type:{name:"null",func:!0}}],slots:[{name:"title"},{name:"card",scoped:!0,bindings:[{name:"message",title:"binding"}]},{name:"lotteryTips"}],sourceFiles:["C:/Users/Administrator/Desktop/workspace/application/packages/common/model/nineSquareLottery/index.vue"]};function X(e=""){const t=new Image;t.src=e}function Z(e=null){const t=x(!1);return{copyText:async i=>{try{if(navigator.clipboard)await navigator.clipboard.writeText(i),t.value=!0;else{const c=document.createElement("textarea");c.value=i,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),t.value=!0}e&&e(t.value)}catch(c){console.error("复制失败",c)}}}}function ee(e,...t){const r=x(!1),i=x("");if(E(r,()=>{r.value&&console.error(i.value)}),typeof window<"u")try{const c=window.external[e];if(c)try{return console.log("客户单方法调用，方法名：",e,"===","参数：",...t),c(...t)}catch{i.value=`此方法异常：${e}`,r.value=!0}else i.value=`方法未注入，方法名：${e}, 参数：${t}`,r.value=!0}catch{i.value=`方法未注入，方法名：${e}, 参数：${t}`,r.value=!0}else i.value="没有 windows 对象！",r.value=!0}const f=window.location.origin;function p(e){return e===""?"":e.slice(0,1)==="/"?e:"/"+e}function te(){const e=(n,s="",u)=>{const m={software:"software",static:"static",user:"user",service:"service",api:"api"}[n];let v="test";return f.indexOf("dev")!==-1?`http://${m}.dev.3d66.com${p(s)}`:f.indexOf("test")!==-1||f.indexOf("dybzp")!==-1?`https://${m}${v}.3d66.com${p(s)}`:f.indexOf("localhost")!==-1?"http://localhost.3d66.com:8888"+p(s):`https://${m}.3d66.com${p(s)}`};return{getSoftwareUrl:(n="")=>e("software",n),getStaticUrl:(n="")=>f.indexOf("dev")!==-1?`http://static.dev.3d66.com${p(n)}`:f.indexOf("test")!==-1||f.indexOf("dybzp")!==-1||f.indexOf("localhost.3d66.com")!==-1?`https://static_test.3d66.com${p(n)}`:`https://static.3d66.com${p(n)}`,getUserUrl:(n="")=>e("user",n),getServiceUrl:(n="")=>e("service",n),getApiUrl:(n="")=>e("api",n),getLykstaticUrl:(n="")=>f.indexOf("dev")!==-1?`http://lykstatic.dev.3d66.com${p(n)}`:f.indexOf("test")!==-1||f.indexOf("dybzp")!==-1||f.indexOf("localhost.3d66.com")!==-1?`https://lykstatictest.3d66.com${p(n)}`:`https://lykstatic.3d66.com${p(n)}`,getQueryVariable:n=>{const u=window.location.search.substring(1).split("&");for(let d=0;d<u.length;d++){const m=u[d].split("=");if(m[0]===n)return m[1]}return!1}}}function ne(e,t){H(()=>{function r(o,l,a){let n="";{const s=new Date;s.setTime(s.getTime()+a*24*60*60*1e3),n="; expires="+s.toUTCString()}document.cookie=o+"="+(l||"")+n+"; path=/"}function i(o){const l=o+"=",a=document.cookie.split(";");for(let n=0;n<a.length;n++){let s=a[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(l)===0)return s.substring(l.length,s.length)}return null}const c=t+"?v="+new Date().getTime();fetch(c).then(o=>(o.ok||console.error("Network response was not ok"),o.json())).then(o=>{const l=i(e);if(l&&l!==o.version){const a=window.location.href,n=`v=${o.version}`;a.indexOf("?")!==-1?window.location.href=`${a}&${n}`:window.location.href=`${a}?${n}`}r(e,o.version,7)}).catch(o=>{console.error("Failed to fetch the json:",o)})})}function se(e,t){H(()=>{function r(o,l,a){let n="";{const s=new Date;s.setTime(s.getTime()+a*24*60*60*1e3),n="; expires="+s.toUTCString()}document.cookie=o+"="+(l||"")+n+"; path=/"}function i(o){const l=o+"=",a=document.cookie.split(";");for(let n=0;n<a.length;n++){let s=a[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(l)===0)return s.substring(l.length,s.length)}return null}const c=t+"?v="+new Date().getTime();fetch(c).then(o=>(o.ok||console.error("Network response was not ok"),o.json())).then(o=>{const l=i(e);if(l&&l!==o.version){const a=window.location.href,n=new URL(a);n.searchParams.set("v",o.version),n.hash="",window.location.href=n.toString()}r(e,o.version,7)}).catch(o=>{console.error("Failed to fetch the json:",o)})})}const oe={key:0,class:"toast"},_={__name:"index",setup(e,{expose:t}){const r=C({isVisible:!1,message:""});return t({show:(c,o=3e3)=>{r.message=c,r.isVisible=!0,setTimeout(()=>{r.isVisible=!1},o)}}),(c,o)=>r.isVisible?(g(),h("div",oe,[w("p",null,z(r.message),1)])):M("",!0)}},re=T(_,[["__scopeId","data-v-b0717d7f"]]);_.__docgenInfo={exportName:"default",displayName:"Toast",description:"",tags:{},expose:[{name:"show"}],sourceFiles:["C:/Users/Administrator/Desktop/workspace/application/packages/common/kuUi/Toast/index.vue"]};const ae={class:"wrap"},ie=["innerHTML"],B={__name:"index",props:{top:"0px",left:"0px",width:"100px",message:""},setup(e){const t=e;return(r,i)=>(g(),h("div",ae,[U(r.$slots,"default",{},void 0,!0),w("span",{class:"bubble",style:y({top:t.top,left:t.left,width:t.width}),innerHTML:t.message},null,12,ie)]))}},le=T(B,[["__scopeId","data-v-74f5b216"]]);B.__docgenInfo={exportName:"default",displayName:"Bubble",description:"",tags:{},props:[{name:"top",type:{name:'"0px"',func:!0}},{name:"left",type:{name:'"0px"',func:!0}},{name:"width",type:{name:'"100px"',func:!0}},{name:"message",type:{name:'""',func:!0}}],slots:[{name:"default"}],sourceFiles:["C:/Users/Administrator/Desktop/workspace/application/packages/common/kuUi/Bubble/index.vue"]};const ce=["innerHTML"],D={__name:"index",props:{height:{type:String,required:!0},msg:{type:Array,required:!0},intervalTime:{type:Number,required:!0,default:3e3,validator(e){return e>1e3}}},setup(e){const t=C({top:0,class:"ani_transition"}),r=x(0),i=x(0),c=()=>{i.value++;const a=100/e.msg.length;t.top=-i.value*a,t.class="ani_transition"},o=a=>{a.propertyName==="transform"&&i.value>=e.msg.length-1&&(i.value=0,t.top=0,t.class="")},l=async()=>{if(await Q(),e.msg.length>1){e.msg.push(e.msg[0]);const a=document.querySelector("#carousel-wrap");a.removeEventListener("transitionend",o),a.addEventListener("transitionend",o),clearInterval(r.value),r.value=setInterval(c,e.intervalTime)}};return E(()=>e.msg,(a,n)=>{l()}),L(()=>{document.querySelector("#carousel-wrap").removeEventListener("transitionend",o),clearInterval(r.value)}),(a,n)=>(g(),h("div",{class:"message-carousel",style:y({height:`${e.height}`})},[w("div",{id:"carousel-wrap",style:y({transform:`translateY(${t.top}%)`}),class:P(`carousel-item-wrap ${t.class}`)},[(g(!0),h(A,null,V(e.msg,(s,u)=>(g(),h("div",{key:u,style:y({height:`${e.height}`,lineHeight:`${e.height}`}),class:"message-item",innerHTML:s},null,12,ce))),128))],6)],4))}},ue=T(D,[["__scopeId","data-v-a4f00f80"]]);D.__docgenInfo={exportName:"default",displayName:"MessageCarousel",description:"",tags:{},props:[{name:"height",type:{name:"string"},required:!0},{name:"msg",type:{name:"array"},required:!0},{name:"intervalTime",type:{name:"number"},required:!0,defaultValue:{func:!1,value:"3000"}}],sourceFiles:["C:/Users/Administrator/Desktop/workspace/application/packages/common/kuUi/MessageCarousel/index.vue"]};const F=W({name:"Modal",props:{show:{type:Boolean,required:!0}},emits:["update:show"],setup(e,{emit:t}){return{close:()=>{t("update:show",!1)}}}}),de={class:"modal-content"};function me(e,t,r,i,c,o){return e.show?(g(),h("div",{key:0,class:"modal-overlay",onClick:t[1]||(t[1]=R((...l)=>e.close&&e.close(...l),["self"]))},[w("div",de,[w("button",{class:"close-button",onClick:t[0]||(t[0]=(...l)=>e.close&&e.close(...l))}),U(e.$slots,"default",{},void 0,!0)])])):M("",!0)}const fe=T(F,[["render",me],["__scopeId","data-v-bebbb217"]]);F.__docgenInfo={displayName:"Modal",exportName:"default",description:"",tags:{},props:[{name:"show",type:{name:"boolean"},required:!0}],events:[{name:"update:show"}],slots:[{name:"default"}],sourceFiles:["C:/Users/Administrator/Desktop/workspace/application/packages/common/kuUi/BaseModal.vue"]};const pe={usePreloadImg:X,useCopy:Z,useExternalMethod:ee,useUrl:te,useVersionUpdater:ne,useVersionUpdaterV2:se,Toast:re,Bubble:le,MessageCarousel:ue,Modal:fe},{Toast:ge}=pe,xe={title:"Example/Toast",component:ge,tags:["autodocs"],argTypes:{},args:{}},I={args:{primary:!0}};var j,q,N;I.parameters={...I.parameters,docs:{...(j=I.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    primary: true
  }
}`,...(N=(q=I.parameters)==null?void 0:q.docs)==null?void 0:N.source}}};const we=["Primary"];export{I as Primary,we as __namedExportsOrder,xe as default};
